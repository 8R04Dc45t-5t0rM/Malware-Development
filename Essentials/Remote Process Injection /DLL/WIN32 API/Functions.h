#include<stdio.h>
#include<windows.h>
#include <tlhelp32.h>

int getProcessID(const char* procName){
    HANDLE snapshot = CreateToolhelp32Snapshot(TH32CS_SNAPALL,0);
    if (snapshot ==  INVALID_HANDLE_VALUE){
        printf("Error while geting the PID , %d\n",GetLastError());
        return -1;
    }

    PROCESSENTRY32 current;
    current.dwSize = sizeof(PROCESSENTRY32);
    if (!Process32First(snapshot,&current)){
        printf("Couldnt enter the snapshot");
        return -1;
    }

    while(Process32Next(snapshot,&current)){
        if (strcmpi(current.szExeFile,procName) == 0){
            printf("Process '%s' ID is %d\n",procName, current.th32ProcessID);
            return current.th32ProcessID;
        }
    }

    printf("Process Not found");
    return -1; 
}



